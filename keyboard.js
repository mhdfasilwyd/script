var VKI_attach,VKI_close;!function(){var e=this;function t(t){"TD"==t.nodeName&&(t.click||(t.click=function(){var e=this.ownerDocument.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,this.ownerDocument.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null),this.dispatchEvent(e)}),t.VKI_clickless=0,C(t,"dblclick",function(){return!1},!1)),C(t,"mouseover",function(){if("TD"==this.nodeName&&e.VKI_clickless){var t=this;clearTimeout(this.VKI_clickless),this.VKI_clickless=setTimeout(function(){t.click()},e.VKI_clickless)}e.VKI_isIE&&(this.className+=" hover")},!1),C(t,"mouseout",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),e.VKI_isIE&&(this.className=this.className.replace(/ ?(hover|pressed) ?/g,""))},!1),C(t,"mousedown",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),e.VKI_isIE&&(this.className+=" pressed")},!1),C(t,"mouseup",function(){"TD"==this.nodeName&&clearTimeout(this.VKI_clickless),e.VKI_isIE&&(this.className=this.className.replace(/ ?pressed ?/g,""))},!1)}if(this.VKI_version="1.49",this.VKI_showVersion=!1,this.VKI_target=!1,this.VKI_shift=this.VKI_shiftlock=!1,this.VKI_altgr=this.VKI_altgrlock=!1,this.VKI_dead=!1,this.VKI_deadBox=!1,this.VKI_deadkeysOn=!1,this.VKI_numberPad=!0,this.VKI_numberPadOn=!0,this.VKI_kts=this.VKI_kt="मराठी",this.VKI_langAdapt=!1,this.VKI_size=5,this.VKI_sizeAdj=!0,this.VKI_clearPasswords=!1,this.VKI_imageURI="",this.VKI_clickless=0,this.VKI_activeTab=0,this.VKI_enterSubmit=!0,this.VKI_keyCenter=3,this.VKI_isIE=!1,this.VKI_isIE6=!1,this.VKI_isIElt8=!1,this.VKI_isWebKit=RegExp("KHTML").test(navigator.userAgent),this.VKI_isOpera=RegExp("Opera").test(navigator.userAgent),this.VKI_isMoz=!this.VKI_isWebKit&&"Gecko"==navigator.product,this.VKI_i18n={"00":"Display Number Pad","01":"Display virtual keyboard interface","02":"Select keyboard layout","03":"Dead keys","04":"On","05":"Off","06":"Close the keyboard","07":"Clear","08":"Clear this input","09":"Version",10:"Decrease keyboard size",11:"Increase keyboard size"},this.VKI_layout={},this.VKI_layout["मराठी"]={name:"Marathi",keys:[[["","","`","~"],["१","ऍ","1","!"],["२","ॅ","2","@"],["३","्र","3","#"],["४","र्","4","$"],["५","ज्ञ","5","%"],["६","त्र","6","^"],["७","क्ष","7","&"],["८","श्र","8","*"],["९","(","9","("],["०",")","0",")"],["-","ः","-","_"],["ृ","ऋ","=","+"],["Bksp","Bksp"]],[["Tab","Tab"],["ौ","औ"],["ै","ऐ"],["ा","आ"],["ी","ई"],["ू","ऊ"],["ब","भ"],["ह","ङ"],["ग","घ"],["द","ध"],["ज","झ"],["ड","ढ","[","{"],["़","ञ","]","}"],["ॉ","ऑ","\\","|"]],[["Caps","Caps"],["ो","ओ"],["े","ए"],["्","अ"],["ि","इ"],["ु","उ"],["प","फ"],["र","ऱ"],["क","ख"],["त","थ"],["च","छ",";",":"],["ट","ठ","'",'"'],["Enter","Enter"]],[["Shift","Shift"],[""],["ं","ँ","","ॐ"],["म","ण"],["न"],["व"],["ल","ळ"],["स","श"],[",","ष",",","<"],[".","।",".",">"],["य","य़","/","?"],["Shift","Shift"]],[[" "," "," "," "],["AltGr","AltGr"]]],lang:["mr"]},this.VKI_deadkey={},this.VKI_deadkey['"']=this.VKI_deadkey["¨"]=this.VKI_deadkey["゛"]={a:"ä",e:"ë",i:"ï",o:"ö",u:"ü",y:"ÿ","ι":"ϊ","υ":"ϋ","ū":"ǖ","ú":"ǘ","ǔ":"ǚ","ù":"ǜ",A:"Ä",E:"Ë",I:"Ï",O:"Ö",U:"Ü",Y:"Ÿ","Ι":"Ϊ","Υ":"Ϋ","Ū":"Ǖ","Ú":"Ǘ","Ǔ":"Ǚ","Ù":"Ǜ","か":"が","き":"ぎ","く":"ぐ","け":"げ","こ":"ご","た":"だ","ち":"ぢ","つ":"づ","て":"で","と":"ど","さ":"ざ","し":"じ","す":"ず","せ":"ぜ","そ":"ぞ","は":"ば","ひ":"び","ふ":"ぶ","へ":"べ","ほ":"ぼ","カ":"ガ","キ":"ギ","ク":"グ","ケ":"ゲ","コ":"ゴ","タ":"ダ","チ":"ヂ","ツ":"ヅ","テ":"デ","ト":"ド","サ":"ザ","シ":"ジ","ス":"ズ","セ":"ゼ","ソ":"ゾ","ハ":"バ","ヒ":"ビ","フ":"ブ","ヘ":"ベ","ホ":"ボ"},this.VKI_deadkey["~"]={a:"ã",l:"ł",n:"ñ",o:"õ",A:"Ã",L:"Ł",N:"Ñ",O:"Õ"},this.VKI_deadkey["^"]={a:"â",e:"ê",i:"î",o:"ô",u:"û",w:"ŵ",y:"ŷ",A:"Â",E:"Ê",I:"Î",O:"Ô",U:"Û",W:"Ŵ",Y:"Ŷ"},this.VKI_deadkey["ˇ"]={c:"č",d:"ď",e:"ě",s:"š",l:"ľ",n:"ň",r:"ř",t:"ť",u:"ǔ",z:"ž","ü":"ǚ",C:"Č",D:"Ď",E:"Ě",S:"Š",L:"Ľ",N:"Ň",R:"Ř",T:"Ť",U:"Ǔ",Z:"Ž","Ü":"Ǚ"},this.VKI_deadkey["˘"]={a:"ă",g:"ğ",A:"Ă",G:"Ğ"},this.VKI_deadkey["-"]=this.VKI_deadkey["¯"]={a:"ā",e:"ē",i:"ī",o:"ō",u:"ū",y:"ȳ","ü":"ǖ",A:"Ā",E:"Ē",I:"Ī",O:"Ō",U:"Ū",Y:"Ȳ","Ü":"Ǖ"},this.VKI_deadkey["`"]={a:"à",e:"è",i:"ì",o:"ò",u:"ù","ü":"ǜ",A:"À",E:"È",I:"Ì",O:"Ò",U:"Ù","Ü":"Ǜ"},this.VKI_deadkey["'"]=this.VKI_deadkey["´"]=this.VKI_deadkey["΄"]={a:"á",e:"é",i:"í",o:"ó",u:"ú",y:"ý","α":"ά","ε":"έ","η":"ή","ι":"ί","ο":"ό","υ":"ύ","ω":"ώ","ü":"ǘ",A:"Á",E:"É",I:"Í",O:"Ó",U:"Ú",Y:"Ý","Α":"Ά","Ε":"Έ","Η":"Ή","Ι":"Ί","Ο":"Ό","Υ":"Ύ","Ω":"Ώ","Ü":"Ǘ"},this.VKI_deadkey["˝"]={o:"ő",u:"ű",O:"Ő",U:"Ű"},this.VKI_deadkey["΅"]={"ι":"ΐ","υ":"ΰ"},this.VKI_deadkey["°"]=this.VKI_deadkey["º"]={a:"å",u:"ů",A:"Å",U:"Ů"},this.VKI_deadkey["˛"]={a:"Ć",e:"ę",i:"į",o:"ǫ",u:"ų",y:"ŷ",A:"ą",E:"Ę",I:"Į",O:"Ǫ",U:"Ų",Y:"Ŷ"},this.VKI_deadkey["˙"]={c:"ċ",e:"ė",g:"ġ",z:"ż",C:"Ċ",E:"Ė",G:"Ġ",Z:"Ż"},this.VKI_deadkey["¸"]=this.VKI_deadkey["‚"]={c:"ç",s:"ş",C:"Ç",S:"Ş"},this.VKI_deadkey[","]={s:this.VKI_isIElt8?"ş":"ș",t:this.VKI_isIElt8?"ţ":"ț",S:this.VKI_isIElt8?"Ş":"Ș",T:this.VKI_isIElt8?"Ţ":"Ț"},this.VKI_symbol={" ":"NB\nSP","​":"ZW\nSP","‌":"ZW\nNJ","‍":"ZW\nJ"},this.VKI_numpad=[[["$"],["£"],["€"],["¥"]],[["7"],["8"],["9"],["/"]],[["4"],["5"],["6"],["*"]],[["1"],["2"],["3"],["-"]],[["0"],["."],["="],["+"]]],VKI_attach=function(t){if(t.getAttribute("VKI_attached"))return!1;if(e.VKI_imageURI){var i=document.createElement("img");i.src=e.VKI_imageURI,i.alt=e.VKI_i18n["01"],i.className="keyboardInputInitiator",i.title=e.VKI_i18n["01"],i.elem=t,i.onclick=function(t){(t=t||event).stopPropagation?t.stopPropagation():t.cancelBubble=!0,e.VKI_show(this.elem)},t.parentNode.insertBefore(i,"rtl"==t.dir?t:t.nextSibling)}else t.onfocus=function(){e.VKI_target!=this&&(e.VKI_target&&e.VKI_close(),e.VKI_show(this))},t.onclick=function(){e.VKI_target||e.VKI_show(this)};t.setAttribute("VKI_attached","true"),e.VKI_isIE&&(t.onclick=t.onselect=t.onkeyup=function(e){"keyup"==(e||event).type&&this.readOnly||(this.range=document.selection.createRange())}),C(t,"click",function(t){return e.VKI_target==this&&((t=t||event).stopPropagation?t.stopPropagation():t.cancelBubble=!0),!1},!1),e.VKI_isMoz&&t.addEventListener("blur",function(){this.setAttribute("_scrollTop",this.scrollTop)},!1)},this.VKI_keyboard=document.createElement("table"),this.VKI_keyboard.id="keyboardInputMaster",this.VKI_keyboard.dir="ltr",this.VKI_keyboard.cellSpacing="0",this.VKI_keyboard.reflow=function(){this.style.width="50px";this.offsetWidth;this.style.width=""},C(this.VKI_keyboard,"click",function(e){return(e=e||event).stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1},!1),!this.VKI_layout[this.VKI_kt])return alert('No keyboard named "'+this.VKI_kt+'"');this.VKI_langCode={};var i=document.createElement("thead"),s=document.createElement("tr"),a=document.createElement("th");a.colSpan="2";var n=document.createElement("div");n.title=this.VKI_i18n["02"],C(n,"click",function(){var e=this.getElementsByTagName("ol")[0];if(e.style.display)e.style.display="";else{e.style.display="block";for(var t=e.getElementsByTagName("li"),i=0,s=0;i<t.length;i++)VKI_kt==t[i].firstChild.nodeValue?(t[i].className="selected",s=t[i].offsetTop-2*t[i].offsetHeight):t[i].className="";setTimeout(function(){e.scrollTop=s},0)}},!1),n.appendChild(document.createTextNode(this.VKI_kt)),n.appendChild(document.createTextNode(this.VKI_isIElt8?" ↓":" ▾")),n.langCount=0;var r,o=document.createElement("ol");for(ktype in this.VKI_layout)if("object"==typeof this.VKI_layout[ktype]){this.VKI_layout[ktype].lang||(this.VKI_layout[ktype].lang=[]);for(var l=0;l<this.VKI_layout[ktype].lang.length;l++)this.VKI_langCode[this.VKI_layout[ktype].lang[l].toLowerCase().replace(/-/g,"_")]=ktype;var d=document.createElement("li");d.title=this.VKI_layout[ktype].name,C(d,"click",function(t){(t=t||event).stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.parentNode.style.display="",e.VKI_kts=e.VKI_kt=n.firstChild.nodeValue=this.firstChild.nodeValue,e.VKI_buildKeys(),e.VKI_position(!0)},!1),t(d),d.appendChild(document.createTextNode(ktype)),o.appendChild(d),n.langCount++}for(prop in n.appendChild(o),n.langCount>1&&a.appendChild(n),this.VKI_langCode.index=[],this.VKI_langCode)"index"!=prop&&"string"==typeof this.VKI_langCode[prop]&&this.VKI_langCode.index.push(prop);(this.VKI_langCode.index.sort(),this.VKI_langCode.index.reverse(),this.VKI_numberPad)&&((r=document.createElement("span")).appendChild(document.createTextNode("#")),r.title=this.VKI_i18n["00"],C(r,"click",function(){g.style.display=g.style.display?"":"none",e.VKI_position(!0)},!1),t(r),a.appendChild(r));if(this.VKI_kbsize=function(t){e.VKI_size=Math.min(5,Math.max(1,e.VKI_size)),e.VKI_keyboard.className=e.VKI_keyboard.className.replace(/ ?keyboardInputSize\d ?/,""),2!=e.VKI_size&&(e.VKI_keyboard.className+=" keyboardInputSize"+e.VKI_size),e.VKI_position(!0),e.VKI_isOpera&&e.VKI_keyboard.reflow()},this.VKI_sizeAdj){var h=document.createElement("small");h.title=this.VKI_i18n[10],C(h,"click",function(){--e.VKI_size,e.VKI_kbsize()},!1),t(h),h.appendChild(document.createTextNode(this.VKI_isIElt8?"↓":"⇓")),a.appendChild(h);var I=document.createElement("big");I.title=this.VKI_i18n[11],C(I,"click",function(){++e.VKI_size,e.VKI_kbsize()},!1),t(I),I.appendChild(document.createTextNode(this.VKI_isIElt8?"↑":"⇑")),a.appendChild(I)}(r=document.createElement("span")).appendChild(document.createTextNode(this.VKI_i18n["07"])),r.title=this.VKI_i18n["08"],C(r,"click",function(){return e.VKI_target.value="",e.VKI_target.focus(),!1},!1),t(r),a.appendChild(r);var c=document.createElement("strong");c.appendChild(document.createTextNode("X")),c.title=this.VKI_i18n["06"],C(c,"click",function(){e.VKI_close()},!1),t(c),a.appendChild(c),s.appendChild(a),i.appendChild(s),this.VKI_keyboard.appendChild(i);var V=document.createElement("tbody"),K=(s=document.createElement("tr"),document.createElement("td")),_=document.createElement("div");if(this.VKI_deadBox){var u=document.createElement("label"),m=document.createElement("input");m.type="checkbox",m.title=this.VKI_i18n["03"]+": "+(this.VKI_deadkeysOn?this.VKI_i18n["04"]:this.VKI_i18n["05"]),m.defaultChecked=this.VKI_deadkeysOn,C(m,"click",function(){return this.title=e.VKI_i18n["03"]+": "+(this.checked?e.VKI_i18n["04"]:e.VKI_i18n["05"]),e.VKI_modify(""),!0},!1),u.appendChild(m),m.checked=this.VKI_deadkeysOn,_.appendChild(u),this.VKI_deadkeysOn=m}else this.VKI_deadkeysOn.checked=this.VKI_deadkeysOn;if(this.VKI_showVersion){var p=document.createElement("var");p.title=this.VKI_i18n["09"]+" "+this.VKI_version,p.appendChild(document.createTextNode("v"+this.VKI_version)),_.appendChild(p)}K.appendChild(_),s.appendChild(K);var g=document.createElement("td");g.id="keyboardInputNumpad",this.VKI_numberPadOn||(g.style.display="none");var f=document.createElement("table");f.cellSpacing="0";var y=document.createElement("tbody");for(l=0;l<this.VKI_numpad.length;l++){for(var k=document.createElement("tr"),b=0;b<this.VKI_numpad[l].length;b++){var v=document.createElement("td");C(v,"click",E,!1),t(v),v.appendChild(document.createTextNode(this.VKI_numpad[l][b])),k.appendChild(v)}y.appendChild(k)}function E(){var t=!1,i=" ";if("small"!=this.firstChild.nodeName.toLowerCase()){if(" "==(i=this.firstChild.nodeValue))return!1}else i=this.firstChild.getAttribute("char");return e.VKI_deadkeysOn.checked&&e.VKI_dead&&(e.VKI_dead!=i?" "!=i?e.VKI_deadkey[e.VKI_dead][i]&&(e.VKI_insert(e.VKI_deadkey[e.VKI_dead][i]),t=!0):(e.VKI_insert(e.VKI_dead),t=!0):t=!0),e.VKI_dead=!1,t||(e.VKI_deadkeysOn.checked&&e.VKI_deadkey[i]?(e.VKI_dead=i,this.className+=" dead",e.VKI_shift&&e.VKI_modify("Shift"),e.VKI_altgr&&e.VKI_modify("AltGr")):e.VKI_insert(i)),e.VKI_modify(""),!1}function C(e,t,i,s){e.addEventListener?e.addEventListener(t,function(t){i.call(e,t)},s):e.attachEvent&&e.attachEvent("on"+t,function(){i.call(e)})}function T(e){for(var t=curtop=0,i=e;(i=i.parentNode)&&i!=document.body;)t-=i.scrollLeft||0,curtop-=i.scrollTop||0;do{t+=e.offsetLeft,curtop+=e.offsetTop}while(e=e.offsetParent);return[t,curtop]}function N(e,t){if(e.currentStyle)var i=e.currentStyle[t];else if(window.getComputedStyle)i=window.getComputedStyle(e,null)[t];return i}f.appendChild(y),g.appendChild(f),s.appendChild(g),V.appendChild(s),this.VKI_keyboard.appendChild(V),this.VKI_isIE6&&(this.VKI_iframe=document.createElement("iframe"),this.VKI_iframe.style.position="absolute",this.VKI_iframe.style.border="0px none",this.VKI_iframe.style.filter="mask()",this.VKI_iframe.style.zIndex="999999",this.VKI_iframe.src=this.VKI_imageURI),this.VKI_buildKeys=function(){this.VKI_shift=this.VKI_shiftlock=this.VKI_altgr=this.VKI_altgrlock=this.VKI_dead=!1;for(var i=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0],s=i.getElementsByTagName("table"),a=s.length-1;a>=0;a--)i.removeChild(s[a]);a=0;for(var n,r=!1;n=this.VKI_layout[this.VKI_kt].keys[a++];){var o=document.createElement("table");o.cellSpacing="0",n.length<=this.VKI_keyCenter&&(o.className="keyboardInputCenter");for(var l,d=document.createElement("tbody"),h=document.createElement("tr"),I=0;l=n[I++];){var c=document.createElement("td");if(this.VKI_symbol[l[0]]){var V=this.VKI_symbol[l[0]].split("\n"),K=document.createElement("small");K.setAttribute("char",l[0]);for(var _=0;_<V.length;_++)_&&K.appendChild(document.createElement("br")),K.appendChild(document.createTextNode(V[_]));c.appendChild(K)}else c.appendChild(document.createTextNode(l[0]||" "));var u=[];if(this.VKI_deadkeysOn.checked)for(key in this.VKI_deadkey)if(key===l[0]){u.push("deadkey");break}switch(n.length>this.VKI_keyCenter&&I==n.length&&u.push("last")," "!=l[0]&&" "!=l[1]||u.push("space"),c.className=u.join(" "),l[1]){case"Caps":case"Shift":case"Alt":case"AltGr":case"AltLk":C(c,"click",function(t){return function(){return e.VKI_modify(t),!1}}(l[1]),!1);break;case"Tab":C(c,"click",function(){if(e.VKI_activeTab)if(e.VKI_target.form){var t=e.VKI_target,i=t.form.elements;e.VKI_close();for(var s=0,a=!1,n=-1;s<i.length;s++)if(-1==n&&i[s].getAttribute("VKI_attached")&&(n=s),a){if(1==e.VKI_activeTab&&i[s])break;if(i[s].getAttribute("VKI_attached"))break}else i[s]==t&&(a=!0);s==i.length&&(s=Math.max(n,0)),i[s].getAttribute("VKI_attached")?e.VKI_show(i[s]):i[s].focus()}else e.VKI_target.focus();else e.VKI_insert("\t");return!1},!1);break;case"Bksp":C(c,"click",function(){if(e.VKI_target.focus(),e.VKI_target.setSelectionRange&&!e.VKI_target.readOnly){var t=[e.VKI_target.selectionStart,e.VKI_target.selectionEnd];t[0]<t[1]&&t[0]++,e.VKI_target.value=e.VKI_target.value.substr(0,t[0]-1)+e.VKI_target.value.substr(t[1]),e.VKI_target.setSelectionRange(t[0]-1,t[0]-1)}else if(e.VKI_target.createTextRange&&!e.VKI_target.readOnly){try{e.VKI_target.range.select()}catch(t){e.VKI_target.range=document.selection.createRange()}e.VKI_target.range.text.length||e.VKI_target.range.moveStart("character",-1),e.VKI_target.range.text=""}else e.VKI_target.value=e.VKI_target.value.substr(0,e.VKI_target.value.length-1);return e.VKI_shift&&e.VKI_modify("Shift"),e.VKI_altgr&&e.VKI_modify("AltGr"),e.VKI_target.focus(),!0},!1);break;case"Enter":C(c,"click",function(){if("TEXTAREA"!=e.VKI_target.nodeName){if(e.VKI_enterSubmit&&e.VKI_target.form){for(var t=0,i=!1;t<e.VKI_target.form.elements.length;t++)"submit"==e.VKI_target.form.elements[t].type&&(i=!0);i||e.VKI_target.form.submit()}e.VKI_close()}else e.VKI_insert("\n");return!0},!1);break;default:C(c,"click",E,!1)}t(c),h.appendChild(c);for(_=0;_<4;_++)this.VKI_deadkey[l[_]=l[_]||""]&&(r=!0)}d.appendChild(h),o.appendChild(d),i.appendChild(o)}this.VKI_deadBox&&(this.VKI_deadkeysOn.style.display=r?"inline":"none"),this.VKI_isIE6&&(this.VKI_iframe.style.width=this.VKI_keyboard.offsetWidth+"px",this.VKI_iframe.style.height=this.VKI_keyboard.offsetHeight+"px")},this.VKI_buildKeys(),C(this.VKI_keyboard,"selectstart",function(){return!1},!1),this.VKI_keyboard.unselectable="on",this.VKI_isOpera&&C(this.VKI_keyboard,"mousedown",function(){return!1},!1),this.VKI_modify=function(e){switch(e){case"Alt":case"AltGr":this.VKI_altgr=!this.VKI_altgr;break;case"AltLk":this.VKI_altgr=0,this.VKI_altgrlock=!this.VKI_altgrlock;break;case"Caps":this.VKI_shift=0,this.VKI_shiftlock=!this.VKI_shiftlock;break;case"Shift":this.VKI_shift=!this.VKI_shift}var t=0;!this.VKI_shift!=!this.VKI_shiftlock&&(t+=1),!this.VKI_altgr!=!this.VKI_altgrlock&&(t+=2);for(var i=this.VKI_keyboard.tBodies[0].getElementsByTagName("div")[0].getElementsByTagName("table"),s=0;s<i.length;s++)for(var a=i[s].getElementsByTagName("td"),n=0;n<a.length;n++){var r=[],o=this.VKI_layout[this.VKI_kt].keys[s][n];switch(o[1]){case"Alt":case"AltGr":this.VKI_altgr&&r.push("pressed");break;case"AltLk":this.VKI_altgrlock&&r.push("pressed");break;case"Shift":this.VKI_shift&&r.push("pressed");break;case"Caps":this.VKI_shiftlock&&r.push("pressed");break;case"Tab":case"Enter":case"Bksp":break;default:if(e)if(a[n].removeChild(a[n].firstChild),this.VKI_symbol[o[t]]){var l=this.VKI_symbol[o[t]].split("\n"),d=document.createElement("small");d.setAttribute("char",o[t]);for(var h=0;h<l.length;h++)h&&d.appendChild(document.createElement("br")),d.appendChild(document.createTextNode(l[h]));a[n].appendChild(d)}else a[n].appendChild(document.createTextNode(o[t]||" "));if(this.VKI_deadkeysOn.checked){var I=a[n].firstChild.nodeValue||a[n].firstChild.className;this.VKI_dead&&(I==this.VKI_dead&&r.push("pressed"),this.VKI_deadkey[this.VKI_dead][I]&&r.push("target")),this.VKI_deadkey[I]&&r.push("deadkey")}}n==a.length-1&&a.length>this.VKI_keyCenter&&r.push("last")," "!=o[0]&&" "!=o[1]||r.push("space"),a[n].className=r.join(" ")}},this.VKI_insert=function(e){if(this.VKI_target.focus(),this.VKI_target.maxLength&&(this.VKI_target.maxlength=this.VKI_target.maxLength),void 0===this.VKI_target.maxlength||this.VKI_target.maxlength<0||this.VKI_target.value.length<this.VKI_target.maxlength){if(!this.VKI_target.setSelectionRange||this.VKI_target.readOnly||this.VKI_isIE)if(this.VKI_target.createTextRange&&!this.VKI_target.readOnly){try{this.VKI_target.range.select()}catch(e){this.VKI_target.range=document.selection.createRange()}this.VKI_target.range.text=e,this.VKI_target.range.collapse(!0),this.VKI_target.range.select()}else this.VKI_target.value+=e;else{var t=[this.VKI_target.selectionStart,this.VKI_target.selectionEnd];this.VKI_target.value=this.VKI_target.value.substr(0,t[0])+e+this.VKI_target.value.substr(t[1]),"\n"==e&&this.VKI_isOpera&&t[0]++,this.VKI_target.setSelectionRange(t[0]+e.length,t[0]+e.length)}this.VKI_shift&&this.VKI_modify("Shift"),this.VKI_altgr&&this.VKI_modify("AltGr"),this.VKI_target.focus()}else this.VKI_target.createTextRange&&this.VKI_target.range&&this.VKI_target.range.select()},this.VKI_show=function(t){if(this.VKI_target)this.VKI_close();else{if(this.VKI_target=t,this.VKI_langAdapt&&this.VKI_target.lang){var i=!1,s=this.VKI_target.lang.toLowerCase().replace(/-/g,"_"),a=0;for(i=!1;!i&&a<this.VKI_langCode.index.length;a++)0==s.indexOf(this.VKI_langCode.index[a])&&(i=n.firstChild.nodeValue=this.VKI_kt=this.VKI_langCode[this.VKI_langCode.index[a]]);i&&this.VKI_buildKeys()}this.VKI_isIE&&(this.VKI_target.range||(this.VKI_target.range=this.VKI_target.createTextRange(),this.VKI_target.range.moveStart("character",this.VKI_target.value.length)),this.VKI_target.range.select());try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard)}catch(e){}this.VKI_clearPasswords&&"password"==this.VKI_target.type&&(this.VKI_target.value="");t=this.VKI_target;this.VKI_target.keyboardPosition="absolute";do{if("fixed"==N(t,"position")){this.VKI_target.keyboardPosition="fixed";break}}while(t=t.offsetParent);this.VKI_isIE6&&document.body.appendChild(this.VKI_iframe),document.body.appendChild(this.VKI_keyboard),this.VKI_keyboard.style.position=this.VKI_target.keyboardPosition,this.VKI_isOpera&&this.VKI_keyboard.reflow(),this.VKI_position(!0),(e.VKI_isMoz||e.VKI_isWebKit)&&this.VKI_position(!0),this.VKI_target.blur(),this.VKI_target.focus()}},this.VKI_position=function(t){if(e.VKI_target){var i=T(e.VKI_keyboard),s=function(){if(e.innerHeight)return[e.innerWidth,e.innerHeight];if(document.documentElement&&document.documentElement.clientHeight)return[document.documentElement.clientWidth,document.documentElement.clientHeight];if(document.body)return[document.body.clientWidth,document.body.clientHeight];return[0,0]}(),a=function(){var e=document.getElementsByTagName("html")[0];if(e.scrollTop&&document.documentElement.scrollTop)return[e.scrollLeft,e.scrollTop];if(e.scrollTop||document.documentElement.scrollTop)return[e.scrollLeft+document.documentElement.scrollLeft,e.scrollTop+document.documentElement.scrollTop];if(document.body.scrollTop)return[document.body.scrollLeft,document.body.scrollTop];return[0,0]}(),n=!1,r=e.VKI_target.offsetHeight+3;if(!0!==t&&(i[1]+e.VKI_keyboard.offsetHeight-a[1]-s[1]>0?(n=!0,r=-e.VKI_keyboard.offsetHeight-3):i[1]-a[1]<0&&(n=!0)),n||!0===t){for(var o=T(e.VKI_target),l=e.VKI_target;(l=l.parentNode)&&l!=document.body;)if(l.scrollHeight>l.offsetHeight||l.scrollWidth>l.offsetWidth){l.getAttribute("VKI_scrollListener")||(l.setAttribute("VKI_scrollListener",!0),C(l,"scroll",function(){e.VKI_position(!0)},!1));var d=T(l),h=o[1]-d[1],I=o[0]-d[0],c=h+e.VKI_target.offsetHeight,V=I+e.VKI_target.offsetWidth,K=l.offsetHeight-h-e.VKI_target.offsetHeight,_=l.offsetWidth-I-e.VKI_target.offsetWidth;e.VKI_keyboard.style.display=c<0||V<0||K<0||_<0?"none":"",e.VKI_isIE6&&(e.VKI_iframe.style.display=c<0||V<0||K<0||_<0?"none":"")}e.VKI_keyboard.style.top=o[1]-("fixed"!=e.VKI_target.keyboardPosition||e.VKI_isIE||e.VKI_isMoz?0:a[1])+r+"px",e.VKI_keyboard.style.left=Math.max(10,Math.min(s[0]-e.VKI_keyboard.offsetWidth-25,o[0]))+"px",e.VKI_isIE6&&(e.VKI_iframe.style.width=e.VKI_keyboard.offsetWidth+"px",e.VKI_iframe.style.height=e.VKI_keyboard.offsetHeight+"px",e.VKI_iframe.style.top=e.VKI_keyboard.style.top,e.VKI_iframe.style.left=e.VKI_keyboard.style.left)}!0===t&&e.VKI_position()}},this.VKI_close=VKI_close=function(){if(this.VKI_target){try{this.VKI_keyboard.parentNode.removeChild(this.VKI_keyboard),this.VKI_isIE6&&this.VKI_iframe.parentNode.removeChild(this.VKI_iframe)}catch(e){}this.VKI_kt!=this.VKI_kts&&(n.firstChild.nodeValue=this.VKI_kt=this.VKI_kts,this.VKI_buildKeys()),n.getElementsByTagName("ol")[0].style.display="",this.VKI_target.focus(),this.VKI_isIE?setTimeout(function(){e.VKI_target=!1},0):this.VKI_target=!1}},C(window,"resize",this.VKI_position,!1),C(window,"scroll",this.VKI_position,!1),this.VKI_kbsize(),C(window,"load",function(){for(var t,i=[document.getElementsByTagName("input"),document.getElementsByTagName("textarea")],s=0;t=i[s++];)for(var a,n=0;a=t[n++];)"TEXTAREA"!=a.nodeName&&"text"!=a.type&&"password"!=a.type||a.className.indexOf("keyboardInput")>-1&&VKI_attach(a);C(document.documentElement,"click",function(t){e.VKI_close()},!1)},!1)}();